<app-topbar [isShowBackButton]="true"></app-topbar>
<div class="mt-2">
    <h1>Chats</h1>
    <button (click)="filterByAsDonor(true)">As a donor</button>
    <button (click)="filterByAsDonor(false)">As a receiver</button>
    <button (click)="clearFilters()">Clear</button>
    <div *ngIf="chatrooms.length !== 0">
        <div class="mt-3" *ngFor="let chatroom of chatrooms">
            <ul class="list-group" (click)="onClickChatroom(chatroom)">
                <li class="list-group-item">
                    <h4>{{chatroom.firstName}} {{chatroom.lastName}}</h4>
                    <h5>{{chatroom.recentMessage.message}}</h5>
                    <div *ngIf="chatroom.isListingOwner">
                        <h5>{{chatroom.recentMsgsForDonor}}</h5>
                    </div>
                    <div *ngIf="!chatroom.isListingOwner">
                        <h5>{{chatroom.recentMsgsForReceiver}}</h5>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="mt-3" *ngIf="chatrooms.length === 0">
        <h5>There are no chats here yet.</h5>
    </div>
</div>
